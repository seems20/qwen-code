<!-- Powered by BMAD™ Core -->

# 项目变更处理任务

## 目的

- 用 `.bmad-core/checklists/change-checklist` 来系统性地处理项目变更
- 分析变更对 epic、项目文档和 MVP 的影响
- 探索解决方案（比如调整范围、回滚功能、重新规划）
- 为受影响的文档（epic、用户故事、PRD、架构文档等）起草具体的修改建议
- 生成"Sprint 变更提案"文档，包含影响分析和修改建议，供大家评审
- 如果变更太大需要重新规划，确保能顺利转给 PM 或架构师处理

## 操作步骤

### 1. 开始前准备

- **确认任务和背景：**
  - 和用户确认要开始"项目变更处理任务"
  - 了解变更的具体情况，确保清楚问题是什么以及可能的影响
  - 确认能访问所有相关文档（PRD、Epic/Story、架构文档、UI/UX 规范）以及 `.bmad-core/checklists/change-checklist`
- **选择工作方式：**
  - 问用户想怎么处理：
    - **"一步步来（推荐）："** 我们逐项过 change-checklist，每项都讨论清楚再起草修改建议，这样可以做得更细致。
    - **"批量处理："** 我一次性分析完 checklist，然后给你一个完整的变更建议，这样更快但需要你仔细审查。
  - 用户选好后，确认方式并告诉用户："现在开始用 change-checklist 分析变更并起草修改建议。我会按你选择的方式来指导你。"

### 2. 按 Checklist 分析变更

- 系统性地过 change-checklist 的第 1-4 节（包括变更背景、Epic/Story 影响分析、文档冲突解决、路径评估等）
- 对每个 checklist 项目：
  - 向用户展示相关的问题和考虑点
  - 收集必要信息，分析相关文档（PRD、epic、架构文档、story 历史等）来评估影响
  - 和用户讨论每个项目的发现
  - 记录每个 checklist 项目的状态（如 `[x] 已处理`、`[N/A]`、`[!] 需要进一步行动`）以及相关决策
  - 一起商定第 4 节建议的"推荐方案"

### 3. 起草修改建议

- 基于 checklist 分析结果和商定的"推荐方案"（如果变更太大需要重新规划，直接转给 PM/架构师）：
  - 找出需要更新的具体文档（如特定 epic、用户故事、PRD 部分、架构文档、图表等）
  - **为每个文档起草具体的修改建议。** 比如：
    - 修改用户故事文本、验收标准或优先级
    - 在 epic 内添加、删除、重新排序或拆分用户故事
    - 建议修改架构图表（提供更新的 Mermaid 图表或清晰的文字描述）
    - 更新 PRD 或架构文档中的技术列表、配置详情或特定部分
    - 必要时起草新的小文档（如特定决策的说明）
  - 如果选择"一步步来"，和用户逐个讨论并完善每个文档的修改建议
  - 如果选择"批量处理"，把所有修改建议整理好，下一步一起展示

### 4. 生成"Sprint 变更提案"

- 把完整的 checklist 分析结果和所有商定的修改建议整理成一个"Sprint 变更提案"文档，按照 change-checklist 第 5 节的结构来写
- 提案要清楚地包含：
  - **分析摘要：** 简单说明原始问题、分析出的影响（对 epic、文档、MVP 范围的影响）以及选择这个方案的理由
  - **具体修改建议：** 对每个受影响的文档，清楚地说明要改什么（如"将 Story X.Y 从：[旧文本] 改为：[新文本]"、"给 Story A.B 添加新验收标准：[新 AC]"、"按以下方式更新架构文档第 3.2 节：[新/修改的文本或图表描述]"）
- 向用户展示完整的"Sprint 变更提案"草稿，收集反馈并做最终调整

### 5. 最终确定和后续安排

- 获得用户对"Sprint 变更提案"的明确批准，包括所有具体的修改建议
- 向用户提供最终确定的"Sprint 变更提案"文档
- **根据变更的性质决定下一步：**
  - **如果修改建议能解决问题，可以直接实施或由 PO/SM 安排：** 说明"项目变更处理任务"已完成，用户现在可以开始实施这些变更（如更新实际项目文档、backlog 项目）。如果需要，建议转给 PO/SM 来安排 backlog
  - **如果分析表明变更需要重新规划（如重大范围变更、主要架构调整）：** 明确说明这个结论。建议用户下一步找 PM 或架构师，把"Sprint 变更提案"作为重新规划的重要参考

## 输出结果

- **主要输出：** 一个"Sprint 变更提案"文档（markdown 格式），包含：
  - checklist 分析的摘要（问题、影响、选择方案的理由）
  - 对所有受影响文档的具体修改建议
- **过程记录：** 一个带注释的 change-checklist（或完成记录），记录过程中的讨论、发现和决策
