<!-- Powered by BMAD™ Core -->

# 创建 Brownfield Story 任务

## 目的

为非常小的 brownfield 增强功能创建单个用户故事，这些功能可以在一次专注的开发会话中完成。这个任务适用于需要现有系统集成意识的最小添加或 bug 修复。

## 什么时候用这个任务

**用这个任务的情况：**

- 增强功能可以在单个 story 中完成
- 不需要新架构或重大设计
- 变更完全遵循现有模式
- 集成简单，风险最小
- 变更有清晰的边界，影响范围小

**用 brownfield-create-epic 的情况：**

- 增强功能需要 2-3 个协调的 story
- 需要一些设计工作
- 涉及多个集成点

**用完整的 brownfield PRD/架构流程的情况：**

- 增强功能需要多个协调的 story
- 需要架构规划
- 需要大量集成工作

## 操作指南

### 1. 快速项目评估

收集现有项目的最小但必要的上下文：

**当前系统上下文：**

- [ ] 识别相关的现有功能
- [ ] 记录该领域的技术栈
- [ ] 清楚理解集成点
- [ ] 识别类似工作的现有模式

**变更范围：**

- [ ] 明确具体的变更内容
- [ ] 识别影响边界
- [ ] 建立成功标准

### 2. Story 创建

按照这个结构创建单个专注的 story：

#### Story 标题

{{具体增强功能}} - Brownfield 添加

#### 用户故事

作为 {{用户类型}}，
我希望 {{具体操作/能力}}，
以便 {{明确的好处/价值}}。

#### Story 上下文

**现有系统集成：**

- 集成对象：{{现有组件/系统}}
- 技术栈：{{相关技术栈}}
- 遵循模式：{{要遵循的现有模式}}
- 接触点：{{具体集成点}}

#### 验收标准

**功能需求：**

1. {{主要功能需求}}
2. {{次要功能需求（如果有）}}
3. {{集成需求}}

**集成需求：** 4. 现有 {{相关功能}} 继续正常工作，无变化 5. 新功能遵循现有 {{模式}} 模式 6. 与 {{系统/组件}} 的集成保持当前行为

**质量需求：** 7. 变更被适当的测试覆盖 8. 文档在需要时更新 9. 验证现有功能无回归

#### 技术说明

- **集成方法：** {{如何连接到现有系统}}
- **现有模式参考：** {{要遵循的模式的链接或描述}}
- **关键约束：** {{任何重要的限制或要求}}

#### 完成定义

- [ ] 功能需求满足
- [ ] 集成需求验证
- [ ] 现有功能回归测试
- [ ] 代码遵循现有模式和标准
- [ ] 测试通过（现有和新的）
- [ ] 文档在适用时更新

### 3. 风险和兼容性检查

**最小风险评估：**

- **主要风险：** {{对现有系统的主要风险}}
- **缓解措施：** {{简单的缓解方法}}
- **回滚方案：** {{需要时如何撤销}}

**兼容性验证：**

- [ ] 对现有 API 无破坏性变更
- [ ] 数据库变更（如果有）仅为添加性
- [ ] UI 变更遵循现有设计模式
- [ ] 性能影响可忽略

### 4. 验证 Checklist

在最终确定 story 之前，确认：

**范围验证：**

- [ ] Story 可以在一次开发会话中完成
- [ ] 集成方法简单直接
- [ ] 完全遵循现有模式
- [ ] 不需要设计或架构工作

**清晰度检查：**

- [ ] Story 需求明确无歧义
- [ ] 集成点明确指定
- [ ] 成功标准可测试
- [ ] 回滚方法简单

## 成功标准

Story 创建成功时：

1. 增强功能明确定义，适合单次会话的范围
2. 集成方法简单直接，风险低
3. 现有系统模式已识别并将被遵循
4. 回滚计划简单可行
5. 验收标准包括现有功能验证

## 重要说明

- 这个任务仅适用于非常小的 brownfield 变更
- 如果分析过程中复杂度增加，升级到 brownfield-create-epic
- 始终优先考虑现有系统完整性
- 对集成复杂度有疑问时，改用 brownfield-create-epic
- Story 应该不超过 4 小时的专注开发工作
